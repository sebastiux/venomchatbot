# Railway Configuration for Karuna Bot (Baileys + Grok AI)
# https://docs.railway.app/reference/config-as-code
#
# IMPORTANT: Attach a Railway Volume mounted at /app/bot_sessions
# to persist WhatsApp sessions across deploys (avoids re-scanning QR).

[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"
watchPatterns = ["src/**", "package.json"]

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
